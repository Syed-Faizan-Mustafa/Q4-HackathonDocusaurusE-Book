"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[4976],{1287:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"module-1-ros2/hello-ros2","title":"Hello ROS 2","description":"Write and run your first ROS 2 node in Python","source":"@site/docs/module-1-ros2/hello-ros2.md","sourceDirName":"module-1-ros2","slug":"/module-1-ros2/hello-ros2","permalink":"/e-book-hackathon-2025/docs/module-1-ros2/hello-ros2","draft":false,"unlisted":false,"editUrl":"https://github.com/faizanmustafa/e-book-hackathon-2025/tree/main/my-website/docs/module-1-ros2/hello-ros2.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Hello ROS 2","description":"Write and run your first ROS 2 node in Python"},"sidebar":"learningSidebar","previous":{"title":"ROS 2 Setup","permalink":"/e-book-hackathon-2025/docs/module-1-ros2/setup"},"next":{"title":"Publishers & Subscribers","permalink":"/e-book-hackathon-2025/docs/module-1-ros2/pubsub"}}');var s=r(4848),i=r(8453);const o={sidebar_position:4,title:"Hello ROS 2",description:"Write and run your first ROS 2 node in Python"},t="Hello ROS 2: Your First Node",a={},d=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Create a Package",id:"create-a-package",level:2},{value:"Your First Node",id:"your-first-node",level:2},{value:"Understanding the Code",id:"understanding-the-code",level:2},{value:"Imports",id:"imports",level:3},{value:"Node Class",id:"node-class",level:3},{value:"Logging",id:"logging",level:3},{value:"Timers",id:"timers",level:3},{value:"Main Function",id:"main-function",level:3},{value:"Build and Run",id:"build-and-run",level:2},{value:"Build the Package",id:"build-the-package",level:3},{value:"Source the Workspace",id:"source-the-workspace",level:3},{value:"Run the Node",id:"run-the-node",level:3},{value:"Inspect Your Node",id:"inspect-your-node",level:2},{value:"Add Parameters",id:"add-parameters",level:2},{value:"Run with Parameters",id:"run-with-parameters",level:3},{value:"Package Configuration",id:"package-configuration",level:2},{value:"setup.py",id:"setuppy",level:3},{value:"package.xml",id:"packagexml",level:3},{value:"Exercise: Personalized Greeter",id:"exercise-personalized-greeter",level:2},{value:"Summary",id:"summary",level:2},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{Details:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"hello-ros-2-your-first-node",children:"Hello ROS 2: Your First Node"})}),"\n",(0,s.jsx)(n.p,{children:"Time to write code! In this chapter, you'll create your first ROS 2 node using Python (rclpy)."}),"\n",(0,s.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Create a ROS 2 Python package"}),"\n",(0,s.jsx)(n.li,{children:"Write a minimal node"}),"\n",(0,s.jsx)(n.li,{children:"Understand node lifecycle"}),"\n",(0,s.jsx)(n.li,{children:"Run and test your node"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"create-a-package",children:"Create a Package"}),"\n",(0,s.jsx)(n.p,{children:"Navigate to your workspace and create a package:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="Create package"',children:"cd ~/ros2_ws/src\nros2 pkg create --build-type ament_python --node-name hello_node hello_ros2\n"})}),"\n",(0,s.jsx)(n.p,{children:"This creates:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"hello_ros2/\n\u251c\u2500\u2500 hello_ros2/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2514\u2500\u2500 hello_node.py    # Your node\n\u251c\u2500\u2500 resource/\n\u2502   \u2514\u2500\u2500 hello_ros2\n\u251c\u2500\u2500 test/\n\u251c\u2500\u2500 package.xml          # Package metadata\n\u2514\u2500\u2500 setup.py             # Python setup\n"})}),"\n",(0,s.jsx)(n.h2,{id:"your-first-node",children:"Your First Node"}),"\n",(0,s.jsxs)(n.p,{children:["Open ",(0,s.jsx)(n.code,{children:"hello_ros2/hello_node.py"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'title="hello_ros2/hello_node.py"',children:'import rclpy\nfrom rclpy.node import Node\n\n\nclass HelloNode(Node):\n    """A minimal ROS 2 node that prints a greeting."""\n\n    def __init__(self):\n        # Initialize the node with name \'hello_node\'\n        super().__init__(\'hello_node\')\n\n        # Log a message\n        self.get_logger().info(\'Hello, ROS 2!\')\n\n        # Create a timer that fires every second\n        self.timer = self.create_timer(1.0, self.timer_callback)\n        self.counter = 0\n\n    def timer_callback(self):\n        """Called every second by the timer."""\n        self.counter += 1\n        self.get_logger().info(f\'Count: {self.counter}\')\n\n\ndef main(args=None):\n    # Initialize ROS 2\n    rclpy.init(args=args)\n\n    # Create the node\n    node = HelloNode()\n\n    try:\n        # Spin (process callbacks) until interrupted\n        rclpy.spin(node)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        # Clean up\n        node.destroy_node()\n        rclpy.shutdown()\n\n\nif __name__ == \'__main__\':\n    main()\n'})}),"\n",(0,s.jsx)(n.h2,{id:"understanding-the-code",children:"Understanding the Code"}),"\n",(0,s.jsx)(n.h3,{id:"imports",children:"Imports"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import rclpy                  # ROS 2 Python client library\nfrom rclpy.node import Node   # Base class for all nodes\n"})}),"\n",(0,s.jsx)(n.h3,{id:"node-class",children:"Node Class"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"class HelloNode(Node):\n    def __init__(self):\n        super().__init__('hello_node')  # Register node name\n"})}),"\n",(0,s.jsx)(n.p,{children:"Every node:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Inherits from ",(0,s.jsx)(n.code,{children:"Node"})]}),"\n",(0,s.jsxs)(n.li,{children:["Calls ",(0,s.jsx)(n.code,{children:"super().__init__()"})," with a unique name"]}),"\n",(0,s.jsx)(n.li,{children:"Sets up publishers, subscribers, timers, etc."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"logging",children:"Logging"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"self.get_logger().info('Hello, ROS 2!')\n"})}),"\n",(0,s.jsx)(n.p,{children:"Logging levels:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"debug()"})," - Detailed debugging"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"info()"})," - Normal operation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"warn()"})," - Potential issues"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"error()"})," - Errors"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"fatal()"})," - Critical failures"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"timers",children:"Timers"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"self.timer = self.create_timer(1.0, self.timer_callback)\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"First argument: period in seconds"}),"\n",(0,s.jsx)(n.li,{children:"Second argument: callback function"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"main-function",children:"Main Function"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"def main(args=None):\n    rclpy.init(args=args)      # Initialize ROS 2 context\n    node = HelloNode()          # Create node instance\n    rclpy.spin(node)            # Process callbacks\n    node.destroy_node()         # Clean up node\n    rclpy.shutdown()            # Shutdown ROS 2\n"})}),"\n",(0,s.jsx)(n.h2,{id:"build-and-run",children:"Build and Run"}),"\n",(0,s.jsx)(n.h3,{id:"build-the-package",children:"Build the Package"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="Build"',children:"cd ~/ros2_ws\ncolcon build --packages-select hello_ros2\n"})}),"\n",(0,s.jsx)(n.h3,{id:"source-the-workspace",children:"Source the Workspace"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="Source"',children:"source install/setup.bash\n"})}),"\n",(0,s.jsx)(n.h3,{id:"run-the-node",children:"Run the Node"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="Run"',children:"ros2 run hello_ros2 hello_node\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Expected output:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[INFO] [hello_node]: Hello, ROS 2!\n[INFO] [hello_node]: Count: 1\n[INFO] [hello_node]: Count: 2\n[INFO] [hello_node]: Count: 3\n...\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Press ",(0,s.jsx)(n.code,{children:"Ctrl+C"})," to stop."]}),"\n",(0,s.jsx)(n.h2,{id:"inspect-your-node",children:"Inspect Your Node"}),"\n",(0,s.jsx)(n.p,{children:"While your node is running (in another terminal):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="List nodes"',children:"ros2 node list\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Output:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"/hello_node\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="Node info"',children:"ros2 node info /hello_node\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Output:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"/hello_node\n  Subscribers:\n    /parameter_events: rcl_interfaces/msg/ParameterEvent\n  Publishers:\n    /parameter_events: rcl_interfaces/msg/ParameterEvent\n    /rosout: rcl_interfaces/msg/Log\n  Service Servers:\n    ...\n"})}),"\n",(0,s.jsx)(n.h2,{id:"add-parameters",children:"Add Parameters"}),"\n",(0,s.jsx)(n.p,{children:"Let's make the greeting configurable:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'title="hello_ros2/hello_node.py (updated)"',children:"import rclpy\nfrom rclpy.node import Node\n\n\nclass HelloNode(Node):\n    def __init__(self):\n        super().__init__('hello_node')\n\n        # Declare a parameter with default value\n        self.declare_parameter('greeting', 'Hello')\n        self.declare_parameter('interval', 1.0)\n\n        # Get parameter values\n        greeting = self.get_parameter('greeting').value\n        interval = self.get_parameter('interval').value\n\n        self.get_logger().info(f'{greeting}, ROS 2!')\n\n        self.timer = self.create_timer(interval, self.timer_callback)\n        self.counter = 0\n\n    def timer_callback(self):\n        self.counter += 1\n        greeting = self.get_parameter('greeting').value\n        self.get_logger().info(f'{greeting}: Count {self.counter}')\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = HelloNode()\n\n    try:\n        rclpy.spin(node)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        node.destroy_node()\n        rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,s.jsx)(n.h3,{id:"run-with-parameters",children:"Run with Parameters"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="Run with custom parameters"',children:'ros2 run hello_ros2 hello_node --ros-args -p greeting:="Greetings" -p interval:=0.5\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Output:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[INFO] [hello_node]: Greetings, ROS 2!\n[INFO] [hello_node]: Greetings: Count 1\n[INFO] [hello_node]: Greetings: Count 2\n...\n"})}),"\n",(0,s.jsx)(n.h2,{id:"package-configuration",children:"Package Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"setuppy",children:"setup.py"}),"\n",(0,s.jsx)(n.p,{children:"Ensure your entry point is registered:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'title="setup.py"',children:"from setuptools import find_packages, setup\n\npackage_name = 'hello_ros2'\n\nsetup(\n    name=package_name,\n    version='0.0.1',\n    packages=find_packages(exclude=['test']),\n    data_files=[\n        ('share/ament_index/resource_index/packages',\n            ['resource/' + package_name]),\n        ('share/' + package_name, ['package.xml']),\n    ],\n    install_requires=['setuptools'],\n    zip_safe=True,\n    maintainer='your_name',\n    maintainer_email='your@email.com',\n    description='Hello ROS 2 example package',\n    license='Apache-2.0',\n    tests_require=['pytest'],\n    entry_points={\n        'console_scripts': [\n            'hello_node = hello_ros2.hello_node:main',\n        ],\n    },\n)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"packagexml",children:"package.xml"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="package.xml"',children:'<?xml version="1.0"?>\n<?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?>\n<package format="3">\n  <name>hello_ros2</name>\n  <version>0.0.1</version>\n  <description>Hello ROS 2 example package</description>\n  <maintainer email="your@email.com">your_name</maintainer>\n  <license>Apache-2.0</license>\n\n  <depend>rclpy</depend>\n  <depend>std_msgs</depend>\n\n  <test_depend>ament_copyright</test_depend>\n  <test_depend>ament_flake8</test_depend>\n  <test_depend>ament_pep257</test_depend>\n  <test_depend>python3-pytest</test_depend>\n\n  <export>\n    <build_type>ament_python</build_type>\n  </export>\n</package>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"exercise-personalized-greeter",children:"Exercise: Personalized Greeter"}),"\n",(0,s.jsxs)(n.p,{children:["Create a new node ",(0,s.jsx)(n.code,{children:"greeter_node"})," that:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Takes a ",(0,s.jsx)(n.code,{children:"name"}),' parameter (default: "World")']}),"\n",(0,s.jsx)(n.li,{children:"Publishes a greeting every 2 seconds"}),"\n",(0,s.jsx)(n.li,{children:"Uses INFO logging"}),"\n"]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Click for Solution"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'title="hello_ros2/greeter_node.py"',children:"import rclpy\nfrom rclpy.node import Node\n\n\nclass GreeterNode(Node):\n    def __init__(self):\n        super().__init__('greeter_node')\n\n        self.declare_parameter('name', 'World')\n\n        self.timer = self.create_timer(2.0, self.greet)\n\n    def greet(self):\n        name = self.get_parameter('name').value\n        self.get_logger().info(f'Hello, {name}!')\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = GreeterNode()\n\n    try:\n        rclpy.spin(node)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        node.destroy_node()\n        rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),(0,s.jsxs)(n.p,{children:["Add to ",(0,s.jsx)(n.code,{children:"setup.py"})," entry_points:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"'greeter_node = hello_ros2.greeter_node:main',\n"})}),(0,s.jsx)(n.p,{children:"Run:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'ros2 run hello_ros2 greeter_node --ros-args -p name:="Physical AI"\n'})})]}),"\n",(0,s.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(n.p,{children:"You've learned to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u2705 Create a ROS 2 Python package"}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 Write a node class inheriting from ",(0,s.jsx)(n.code,{children:"Node"})]}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Use timers for periodic callbacks"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Add configurable parameters"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Build and run your node"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsx)(n.p,{children:"Now let's learn how nodes communicate:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"./pubsub",children:"Continue to Publishers & Subscribers \u2192"})})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>t});var l=r(6540);const s={},i=l.createContext(s);function o(e){const n=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);